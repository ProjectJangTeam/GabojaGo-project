<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>recommendation</title>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <link rel="stylesheet" href="../css/main-base.css" />
    <link rel="stylesheet" href="../css/main-modal.css" />
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../css/recommendation/recommendationDetail.css" />
    <link
        rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    />
</head>
<body>
<div class="modal">
    <div class="modal_body">
        <h2>Sign In</h2>
        <form action="/app/auth/login" method="post">
            <p>ID</p>
            <input name="id" type="text" size="30" placeholder="ID를 입력해주세요." th:value="${id}">

            <p>Password</p>
            <input name="password" type="password" size="20" placeholder="Password를 입력해주세요.">
            <br>
            <button class="btn_login" type="submit">Login</button>



            <!--          <a href="http://localhost:9999/app/">구글 아이디로 로그인</a>-->

            <div class="g-signin2" data-onsuccess="onSignIn"></div>

            <script>
            function onSignIn(googleUser) {
              var profile = googleUser.getBasicProfile();
              console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
              console.log('Name: ' + profile.getName());
              console.log('Image URL: ' + profile.getImageUrl());
              console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
            }

          </script>

            <!-- <a href="#" onClick="signOut();">Sign out</a>-->
            <script>
            function signOut() {
              var auth2 = gapi.auth2.getAuthInstance();
              auth2.signOut().then(function () {
                console.log('User signed out.');
              });
            }
          </script>



            <div class="savecheck">
                <input id="savecheckbox" type="checkbox" name="saveEmail"><label for="savecheckbox">&nbsp;ID 저장</label>
                <span><a href="#">ID 찾기</a></span><span> / </span><span><a href="#">Password 찾기</a></span>
            </div>
        </form>

        <!--
        <div class="loginimages">
          <ul>
            <li>

              <a href="#">
                <img src="./images/googlebtn.png" alt="google login button">
              </a>

            </li>
            <li>
              <a href="#">
                <img src="./images/naverbtn.png" alt="naver login button">
              </a>
            </li>
          </ul>
        </div>
         -->

        <form action="/app/auth/register">
            <button class="btn_signin" type="submit">회원가입</button>
        </form>

    </div>
</div>

    <br>



<!-- 댓글 입력 폼 -->
    <div class="ga-jang-comment-write">

        <form action='jangCommentInsert' method="post" enctype="multipart/form-data"
              style=" width: 1000px;">
            <b> [ 댓글 작성 ] </b>
<!--            <p><label>작성자</label> <input type="text" name="id" data-th-value="${loginMember.id}" readonly></p>-->
            <input type='hidden' name='recono' data-th-value="${recommendation.recono}">
            <p><button type='submit'>댓글 입력</button></p>
        </form>
    </div>
    <!-- 댓글 리스트 -->
    <div class="ga-jang-comment">
        <table border="1">
            <tr>
                <th>댓글번호</th>
                <th>아이디</th>
                <th>내용</th>
                <th>작성일</th>
            </tr>

            <tr data-th-each="jangComment : ${jangComments}">
                <td name="cmno" type="number" value="1" data-th-text="${jangComment.cmno}" readonly>댓글번호</td>
                <td data-th-text="${jangComment.id}">홍길동</td>
                <td data-th-text="${jangComment.cont == ''} ? '(제목없음)' : ${jangComment.cont}">
                    <input name="cont" type="text" value="ㅎ" data-th-value="${jangComment.cont}" size="30"/>
                </td>
                <!--readonly-->
                <td data-th-text="${jangComment.wdate}">2022-1-1</td>
                <td>
                    <a href="jangCommentDelete?cmno=1"
                       data-th-href="@{/recommendation/jangCommentDelete(cmno=${jangComment.cmno})}">댓글 삭제</a>

                </td>
            </tr>
        </table>
    </div>
</div>

    <!--login modal script-->
    <script>
      const body = document.querySelector("body");
      const modal = document.querySelector(".modal");
      const btnOpenPopup = document.querySelector(".btn-open-popup");

      btnOpenPopup.addEventListener("click", () => {
        modal.classList.toggle("show");

<p><a href='recommendationList'>코스추천글메인으로</a></p>
<p><a href="#">게시글 신고</a></p>
<p><a href='disableRecommend?recono=${recommendation.recono}'
      data-th-href="@{disableRecommend(recono=${recommendation.recono})}">삭제</a></p>
</body>
</html>
